<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/layout.html :: html_head" />

<body>

	<div th:replace="fragments/layout.html :: menu" />
	<!-- <div th:replace="fragments/layout.html :: header"/> -->

	<div class="container">

		<div class="row my-3">
			<div class="col">
				<h2>Employee List Page</h2>
			</div>
			
			<div class="col">
			<div class="d-flex justify-content-end">
				<a th:href="@{/admin/employee/export}" class="btn btn-warning me-2">Export to CSV</a>
				<div class="d-flex justify-content-end"><a th:href="@{/admin/employee/create/}" class="btn btn-success">Create New Employee</a></div>
				</div>
			</div>
		</div>
		
		<div class="row my-3">
			
			<div class="col">
			<div th:if="${errMessage != null}" class="alert alert-danger alert-dismissible fade show text-center" role="alert">
				<strong><span th:text="${errMessage}"></span>:</strong><span> Please delete the <a th:href="@{/admin/user/list/}" class="fst-italic">user account</a> associated with this employee first!</span>
			  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
			</div>
			</div>
			
		</div>
		
		<table class="table table-hover">
			<thead>
				<tr>
					<th scope="col"><span th:text="#{fieldLabel.employeeId}"></span></th>
					<th scope="col"><span th:text="#{fieldLabel.managerId}"></span></th>
					<th scope="col"><span th:text="#{fieldLabel.name}"></span></th>
					<th scope="col"><span>Email</span></th>
					<th scope="col"><span>Emp Type</span></th>
					<th scope="col"><span>Leave Entitlement</span></th>
					<th scope="col"><span>Medical Leave</span></th>
					<th scope="col"><span>Compensation Leave</span></th>
					<th scope="col"><span th:text="#{caption.edit}"></span></th>
					<th scope="col"><span th:text="#{caption.delete}"></span></th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="employee : ${employeeList}" class="listRecord">
					<td th:text="${employee.employeeId}">Employee Id</td>
					<td th:text="${employee.managerId}">Manager Id</td>
					<td th:text="${employee.name}">Name</td>
					<td th:text="${employee.email}">Email</td>
					<td th:text="${employee.employeetype}"></td>
					<td th:text="${employee.annualleaveentitlement}"></td>
					<td th:text="${employee.medicalleave}"></td>
					<td th:text="${employee.compensationleave}"></td>
					<td><a th:href="@{/admin/employee/edit/}+${employee.employeeId}" class="btn btn-primary"><span
								th:text="#{caption.edit}"></span></a></td>
					<td>
					<a th:href="@{/admin/employee/delete/}+${employee.employeeId}" class="btn btn-danger" ><span
								th:text="#{caption.delete}"></span></a>
					
					</td>
				</tr>
			</tbody>
		</table>
	</div>




	<div th:replace="fragments/layout.html :: footer" />
	

</body>

</html>